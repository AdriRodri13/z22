{% extends 'panel_admin/base_panel.html' %}
{% load static %}

{% block panel_title %}{{ title }}{% endblock %}

{% block panel_css %}
<link rel="stylesheet" href="{% static 'panel_admin/css/equipo/equipo_by_liga.css' %}">
{% endblock %}

{% block content_icon %}<i class="fas fa-shield-alt"></i>{% endblock %}
{% block content_title %}Gesti√≥n de Equipos{% endblock %}

{% block header_actions %}
<div class="header-actions">
    <a href="{% url 'panel_admin:equipo_create' %}" class="btn btn-admin">
        <i class="fas fa-plus me-2"></i>Nuevo Equipo
    </a>
    <a href="{% url 'panel_admin:equipo_list_all' %}" class="btn btn-outline-info">
        <i class="fas fa-table me-2"></i>Vista Tabla
    </a>
</div>
{% endblock %}

{% block panel_content %}
{% if temporada_actual %}
    <div class="mb-4">
        <h5 class="text-center">
            <i class="fas fa-calendar me-2"></i>
            Temporada actual: <span class="text-info">{{ temporada_actual.nombre }}</span>
        </h5>
    </div>

    {% if ligas %}
        <div class="liga-cards-container">
            {% for liga in ligas %}
                <a href="{% url 'panel_admin:equipo_list_in_liga' liga.pk %}" class="liga-card">
                    {% if liga.logo %}
                        <div class="liga-logo-container">
                            <img src="{{ liga.logo.url }}" alt="{{ liga.nombre }}">
                        </div>
                    {% else %}
                        <div class="liga-placeholder">
                            <i class="fas fa-trophy"></i>
                        </div>
                    {% endif %}
                    
                    <h4 class="liga-name">{{ liga.nombre }}</h4>
                    
                    <div class="liga-info">
                        <div class="liga-stat">
                            <span class="liga-stat-number">{{ liga.total_equipos }}</span>
                            <span class="liga-stat-label">Equipos</span>
                        </div>
                    </div>
                    
                    <p class="liga-temporada">{{ liga.temporada.nombre }}</p>
                </a>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <i class="fas fa-trophy"></i>
            <h4>No hay ligas en la temporada actual</h4>
            <p>Crea algunas ligas para poder organizar tus equipos</p>
            <a href="{% url 'panel_admin:liga_create' %}" class="btn btn-admin">
                <i class="fas fa-plus me-2"></i>Crear Liga
            </a>
        </div>
    {% endif %}
{% else %}
    <div class="empty-state">
        <i class="fas fa-calendar"></i>
        <h4>No hay temporadas creadas</h4>
        <p>Crea una temporada para poder gestionar equipos</p>
        <a href="{% url 'panel_admin:temporada_create' %}" class="btn btn-admin">
            <i class="fas fa-plus me-2"></i>Crear Temporada
        </a>
    </div>
{% endif %}
{% endblock %}